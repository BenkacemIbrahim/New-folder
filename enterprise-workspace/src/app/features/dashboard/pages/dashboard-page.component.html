<section class="dashboard-page" aria-label="Enterprise dashboard">
  <header class="dashboard-hero">
    <div class="hero-copy">
      <p class="eyebrow hero-reveal">Overview</p>
      <h1 class="hero-reveal">Dashboard</h1>
    </div>

    <div class="hero-actions hero-reveal">
      <p class="refresh-copy">Last refresh: {{ lastRefresh }}</p>
    </div>
  </header>

  <section class="kpi-grid">
    <article #kpiCard class="kpi-card" *ngFor="let metric of kpis; trackBy: trackByKpi">
      <div class="kpi-head">
        <p>{{ metric.label }}</p>
        <mat-icon>{{ metric.icon }}</mat-icon>
      </div>
      <h2>{{ kpiValueLabel(metric) }}</h2>
      <p
        class="kpi-trend"
        [ngClass]="{ positive: metric.trendDirection === 'up', negative: metric.trendDirection === 'down' }"
      >
        {{ metric.trend }}
      </p>
    </article>
  </section>

  <section class="chart-grid">
    <article #chartPanel class="panel chart-panel">
      <header class="panel-head">
        <div>
          <p>Task Distribution</p>
          <h3>Current Delivery Mix</h3>
        </div>
      </header>
      <div class="chart-host">
        <canvas #taskChart role="img" aria-label="Pie chart showing task distribution"></canvas>
      </div>
    </article>

    <article #chartPanel class="panel chart-panel">
      <header class="panel-head">
        <div>
          <p>Project Productivity</p>
          <h3>Squad Throughput Score</h3>
        </div>
      </header>
      <div class="chart-host">
        <canvas #productivityChart role="img" aria-label="Bar chart showing project productivity"></canvas>
      </div>
    </article>
  </section>

  <section #chartPanel class="panel timeline-panel">
    <header class="panel-head">
      <div>
        <p>Activity Timeline</p>
        <h3>Operational Updates</h3>
      </div>
    </header>

    <div #timelineScroller class="timeline-list" role="list" aria-label="Activity timeline">
      <article
        #timelineItem
        class="timeline-item"
        role="listitem"
        *ngFor="let event of timelineEvents; trackBy: trackByTimeline"
      >
        <span class="timeline-dot" [attr.data-type]="event.type"></span>
        <div class="timeline-content">
          <div class="timeline-head">
            <h4>{{ event.title }}</h4>
            <time>{{ event.time }}</time>
          </div>
          <p>{{ event.summary }}</p>
          <span class="timeline-owner">{{ event.owner }}</span>
        </div>
      </article>
    </div>
  </section>
</section>
