<section class="dashboard-page" [attr.aria-label]="'DASHBOARD.ARIA' | translate">
  <header class="dashboard-hero">
    <div class="hero-copy">
      <p class="eyebrow hero-reveal">{{ 'DASHBOARD.EYEBROW' | translate }}</p>
      <h1 class="hero-reveal">{{ 'DASHBOARD.TITLE' | translate }}</h1>
    </div>

    <div class="hero-actions hero-reveal">
      <p class="refresh-copy">{{ 'DASHBOARD.LAST_REFRESH' | translate: { minutes: refreshMinutes } }}</p>
    </div>
  </header>

  <section class="kpi-grid">
    <article #kpiCard class="kpi-card" *ngFor="let metric of kpis; trackBy: trackByKpi">
      <div class="kpi-head">
        <p>{{ metric.labelKey | translate }}</p>
        <mat-icon>{{ metric.icon }}</mat-icon>
      </div>
      <h2>{{ kpiValueLabel(metric) }}</h2>
      <p
        class="kpi-trend"
        [ngClass]="{ positive: metric.trendDirection === 'up', negative: metric.trendDirection === 'down' }"
      >
        {{ metric.trendKey | translate }}
      </p>
    </article>
  </section>

  <section class="chart-grid">
    <article #chartPanel class="panel chart-panel">
      <header class="panel-head">
        <div>
          <p>{{ 'DASHBOARD.CHARTS.TASK_DISTRIBUTION.TITLE' | translate }}</p>
          <h3>{{ 'DASHBOARD.CHARTS.TASK_DISTRIBUTION.SUBTITLE' | translate }}</h3>
        </div>
      </header>
      <div class="chart-host">
        <canvas #taskChart role="img" [attr.aria-label]="'DASHBOARD.CHARTS.TASK_DISTRIBUTION.ARIA' | translate"></canvas>
      </div>
    </article>

    <article #chartPanel class="panel chart-panel">
      <header class="panel-head">
        <div>
          <p>{{ 'DASHBOARD.CHARTS.PRODUCTIVITY.TITLE' | translate }}</p>
          <h3>{{ 'DASHBOARD.CHARTS.PRODUCTIVITY.SUBTITLE' | translate }}</h3>
        </div>
      </header>
      <div class="chart-host">
        <canvas #productivityChart role="img" [attr.aria-label]="'DASHBOARD.CHARTS.PRODUCTIVITY.ARIA' | translate"></canvas>
      </div>
    </article>
  </section>

  <section #chartPanel class="panel timeline-panel">
    <header class="panel-head">
      <div>
        <p>{{ 'DASHBOARD.TIMELINE.TITLE' | translate }}</p>
        <h3>{{ 'DASHBOARD.TIMELINE.SUBTITLE' | translate }}</h3>
      </div>
    </header>

    <div #timelineScroller class="timeline-list" role="list" [attr.aria-label]="'DASHBOARD.TIMELINE.ARIA' | translate">
      <article
        #timelineItem
        class="timeline-item"
        role="listitem"
        *ngFor="let event of timelineEvents; trackBy: trackByTimeline"
      >
        <span class="timeline-dot" [attr.data-type]="event.type"></span>
        <div class="timeline-content">
          <div class="timeline-head">
            <h4>{{ event.titleKey | translate }}</h4>
            <time>{{ event.time }}</time>
          </div>
          <p>{{ event.summaryKey | translate }}</p>
          <span class="timeline-owner">{{ 'DASHBOARD.TIMELINE.OWNER' | translate: { owner: event.owner } }}</span>
        </div>
      </article>
    </div>
  </section>
</section>
