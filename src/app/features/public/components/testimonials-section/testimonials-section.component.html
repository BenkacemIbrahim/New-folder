<section class="testimonials" data-reveal>
  <div class="slider-shell">
    <div class="slider-track" [style.transform]="trackTransform()">
      <article class="testimonial-card" *ngFor="let item of testimonials; trackBy: trackByTestimonial">
        <p class="quote">"{{ item.quoteKey | translate }}"</p>

        <footer>
          <span class="avatar">{{ item.avatarSeed }}</span>
          <div>
            <p class="name">{{ item.name }}</p>
            <p class="role">{{ item.roleKey | translate }} &middot; {{ item.companyKey | translate }}</p>
          </div>
        </footer>
      </article>
    </div>
  </div>

  <div class="slider-controls">
    <button
      type="button"
      class="control-btn"
      [attr.aria-label]="'MARKETING.TESTIMONIALS.PREVIOUS_ARIA' | translate"
      (click)="previous()"
    >
      &lsaquo;
    </button>
    <button
      class="dot"
      type="button"
      *ngFor="let item of testimonials; let idx = index"
      [ngClass]="{ active: currentIndex() === idx }"
      [attr.aria-label]="'MARKETING.TESTIMONIALS.GO_TO_ARIA' | translate: { index: (idx + 1) }"
      (click)="setSlide(idx)"
    ></button>
    <button
      type="button"
      class="control-btn"
      [attr.aria-label]="'MARKETING.TESTIMONIALS.NEXT_ARIA' | translate"
      (click)="next()"
    >
      &rsaquo;
    </button>
  </div>
</section>
